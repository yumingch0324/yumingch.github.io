const navBtn=document.querySelector('.nav-toggle');const nav=document.getElementById('nav');if(navBtn){navBtn.addEventListener('click',()=>{const open=nav.classList.toggle('show');navBtn.setAttribute('aria-expanded',String(open))})}
const toggle=document.querySelector('.theme-toggle');if(toggle){toggle.addEventListener('click',()=>{const c=document.documentElement.dataset.theme;const n='light'===c?'dark':'dark'===c?'':'light';document.documentElement.dataset.theme=n})}
const y=document.getElementById('year');if(y)y.textContent=(new Date).getFullYear();
(function(){const p=location.pathname.split('/').pop()||'index.html';const map={'index.html':'about','research.html':'research','projects.html':'projects','publications.html':'publications','contact.html':'contact'};const k=map[p];if(!k)return;const link=document.querySelector(`.nav a[data-nav="${k}"]`);if(link)link.classList.add('active')})();