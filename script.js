const navBtn=document.querySelector('.nav-toggle');const nav=document.getElementById('nav');if(navBtn){navBtn.addEventListener('click',()=>{const e=nav.classList.toggle('show');navBtn.setAttribute('aria-expanded',String(e))})}
const toggle=document.querySelector('.theme-toggle');if(toggle){toggle.addEventListener('click',()=>{const e=document.documentElement.dataset.theme;const t='light'===e?'dark':'dark'===e?'':'light';document.documentElement.dataset.theme=t})}
const y=document.getElementById('year');if(y)y.textContent=(new Date).getFullYear();
(function(){const p=location.pathname.split('/').pop()||'index.html';const map={{'index.html':'about','research.html':'research','projects.html':'projects','publications.html':'publications','contact.html':'contact'}};const k=map[p];if(!k)return;const link=document.querySelector(`.nav a[data-nav="${{k}}"]`);if(link)link.classList.add('active')})();